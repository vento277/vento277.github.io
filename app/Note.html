<!DOCTYPE html>
<html lang="en" >
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
  <title>Peter Kim</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
  <link rel="icon" type="image/x-icon" href="../assets/favicon/favicon.ico">
  <link rel="stylesheet" href="../assets/style.css">
</head>

<!--Header-->
<body>
<main class="responsive-wrapper">
	<div class="header">
		<a class="header-link" href="../index.html">Peter Kim</a>
		<span class="header-link">/</span>
		<a class="header-link" href="mailto:peterkim.bm@gmail.com" target="_blank" >@</a>
		<a class="header-link" href="https://www.linkedin.com/in/peter-kim25/" target="_blank">in</a>
	</div>
	<div class="header-menu">
		<a class="header-menu-link" href="../index.html">About</a>
		<a class="header-menu-link" href="../build.html">Build</a>
		<a class="header-menu-link" href="../write.html">Write</a>
	</div>
<!--End of Header-->

<!--Content-->
    
    <div class="article-title">
        <h1>Quick Note</h1><br>
    </div>
    <textarea id="userInput" placeholder="Enter your text here..."></textarea>
    <br>
    <button onclick="saveText()" class="button-23">Save Text</button>
    <br><br>
    <p id="status"></p>
    
    <script>
        let userIP = '';

        // Fetch the user's IP address
        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                userIP = data.ip;
                loadSavedText();
            })
            .catch(error => {
                console.error('Error fetching IP:', error);
                document.getElementById('status').textContent = 'Error fetching IP address.';
            });

        function saveText() {
            const text = document.getElementById('userInput').value;
            localStorage.setItem(userIP, text);
            document.getElementById('status').textContent = 'Text saved successfully!';
        }

        function loadSavedText() {
            const savedText = localStorage.getItem(userIP);
            if (savedText) {
                document.getElementById('userInput').value = savedText;
                document.getElementById('status').textContent = 'Loaded previously saved text.';
            }
        }
    </script>
<!--End of Content-->
</main>

<!-- partial -->
</body>
</html>
